<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>TEAM EARNING — premium UI</title>
<style>
/* === तुम्हारा वही CSS रखा है === */
body{
  margin:0;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:transparent;
  font-family: "Segoe UI", sans-serif;
}
.card{padding:15px;border-radius:12px;background:#000;color:#fff;text-align:center}
.period{font-size:18px;font-weight:bold;margin:8px 0}
.big-text{font-size:22px;font-weight:900;margin-top:6px}
.big-mode{color:#ff4d4d}
.small-mode{color:#36f0df}
.loader{width:60px;height:20px;border-radius:8px;background:#222;overflow:hidden;position:relative;margin:auto}
.loader::after{content:"";position:absolute;top:0;left:-30%;width:30%;height:100%;
background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);
animation:move 1s linear infinite}
@keyframes move{0%{left:-30%}100%{left:130%}}
</style>
</head>
<body>
  <div class="card">
    <div>TEAM EARNING</div>
    <div class="period">Period - <span id="periodNum">000</span></div>
    <div id="resultArea"><div class="loader"></div></div>
  </div>

<script>
// हमेशा IST (UTC+5:30) निकालने का safe तरीका
function getISTDate(){
  let nowUTC = new Date().getTime();      // UTC ms
  let istTime = new Date(nowUTC + (5.5*60*60*1000)); // add 5h 30m
  return istTime;
}

function computePeriod(date){
  let yyyyMMdd = date.getFullYear().toString() +
    String(date.getMonth()+1).padStart(2,"0") +
    String(date.getDate()).padStart(2,"0");
  let totalMinutes = date.getHours()*60 + date.getMinutes();
  return yyyyMMdd + "1000" + String(10001 + totalMinutes);
}

const periodEl = document.getElementById("periodNum");
const resultArea = document.getElementById("resultArea");
let lastPeriod = null, tmo = null;

function showLoader(period){
  let last3 = period.slice(-3);
  periodEl.textContent = last3;
  resultArea.innerHTML = `<div class="loader"></div>`;
  if(tmo) clearTimeout(tmo);
  tmo = setTimeout(()=>{
    let isBig = Math.random()<0.5;
    let txt = isBig ? "BIG":"SMALL";
    resultArea.innerHTML =
      `<div class="big-text ${isBig?'big-mode':'small-mode'}">${txt}</div>`;
  },3000);
}

function tick(){
  let d = getISTDate();
  let p = computePeriod(d);
  if(p!==lastPeriod){
    lastPeriod = p;
    showLoader(p);
  }
}

(function init(){
  let d = getISTDate();
  let p = computePeriod(d);
  lastPeriod = p;
  periodEl.textContent = p.slice(-3);
  resultArea.innerHTML = `<div class="loader"></div>`;
  setTimeout(()=>{
    let isBig=Math.random()<0.5;
    let txt=isBig?"BIG":"SMALL";
    resultArea.innerHTML =
      `<div class="big-text ${isBig?'big-mode':'small-mode'}">${txt}</div>`;
  },3000);
  setInterval(tick,1000);
})();
</script>
</body>
</html>    animation: slide 3.2s linear infinite;
    margin:8px 0;
  }
  .sep.alt{
    background:linear-gradient(90deg,#ffee4d,#4dffeb,#ff4db8,#4db8ff);
    animation-direction:reverse;
  }
  @keyframes slide{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }
  .period{
    text-align:center;
    color:#dcdcdc;
    font-weight:800;
    font-size:14px;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:6px;
  }
  .period .num{ color: #ffd84d; min-width:40px; text-align:center; }
  .bottom{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:8px;
  }
  .wingo{ color:#36f0df; font-weight:800; font-size:13px; }
  .min{ color:#ffd84d; font-weight:900; font-size:14px; margin-top:4px; }
  .big-text{
    font-weight:900;
    text-align:center;
    display:inline-block;
    animation: bounce 1.6s ease-in-out infinite;
  }
  @keyframes bounce{
    0%{transform:translateY(0)}
    50%{transform:translateY(-6px)}
    100%{transform:translateY(0)}
  }
  .zoomIn{
    animation: zoomIn 0.6s ease forwards;
  }
  @keyframes zoomIn{
    0%{transform:scale(0.4); opacity:0}
    100%{transform:scale(1); opacity:1}
  }
  .loader {
    width:60px;
    height:20px;
    border-radius:8px;
    background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    overflow:hidden;
    position:relative;
  }
  .loader::after{
    content:"";
    position:absolute;
    top:0;left:-30%;
    width:30%;height:100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
    animation: loaderMove 1s linear infinite;
  }
  @keyframes loaderMove{0%{left:-30%}100%{left:130%}}
  .big-mode{
    background: linear-gradient(180deg,#ff4d4d,#ffffff);
    -webkit-background-clip: text;
    background-clip: text;
    color:transparent;
    font-size:24px;
    text-shadow:0 6px 18px rgba(255,77,77,0.12);
  }
  .small-mode{
    background: linear-gradient(180deg,#36f0df,#ffffff);
    -webkit-background-clip: text;
    background-clip: text;
    color:transparent;
    font-size:22px;
    text-shadow:0 6px 16px rgba(54,240,223,0.08);
  }
</style>
</head>
<body>
  <div class="card-wrap">
    <div class="card">
      <div class="title">TEAM EARNING</div>
      <div class="server-row">
        <div class="server-left">Server :</div>
        <div style="display:flex;align-items:center;gap:6px;">
          <span class="android-dot"></span>
          <span class="online-text">Online</span>
        </div>
      </div>
      <div class="sep"></div>
      <div class="period">Period - <span class="num" id="periodNum">000</span></div>
      <div class="sep alt"></div>
      <div class="bottom">
        <div>
          <div class="wingo">Wingo</div>
          <div class="min">1 Min -</div>
        </div>
        <div id="resultArea">
          <div class="loader"></div>
        </div>
      </div>
    </div>
  </div>

<script>
function getISTDate(){
  // current UTC time
  let now = new Date();
  // IST offset = +5:30 = 330 minutes
  let istOffset = 330; 
  let utcOffset = now.getTimezoneOffset(); 
  let diff = istOffset + utcOffset;
  return new Date(now.getTime() + diff*60000);
}

function computeFullPeriodFromIST(date) {
  const yyyyMMdd = date.getFullYear().toString() +
    String(date.getMonth()+1).padStart(2,'0') +
    String(date.getDate()).padStart(2,'0');
  const hour = date.getHours();
  const minute = date.getMinutes();
  const totalMinutes = hour * 60 + minute;
  return yyyyMMdd + '1000' + String(10001 + totalMinutes);
}

const periodEl = document.getElementById('periodNum');
const resultArea = document.getElementById('resultArea');
let lastFullPeriod = null;
let loaderTimeout = null;

function showLoaderThenResult(newFullPeriod){
  const last3 = newFullPeriod.slice(-3);
  periodEl.textContent = last3;

  resultArea.innerHTML = `<div class="loader"></div>`;
  if (loaderTimeout) clearTimeout(loaderTimeout);

  loaderTimeout = setTimeout(() => {
    const isBig = Math.random() < 0.5;
    const text = isBig ? "BIG" : "SMALL";
    resultArea.innerHTML =
      `<div class="big-text ${isBig ? 'big-mode' : 'small-mode'} zoomIn">${text}</div>`;
  }, 3000);
}

function updateEverySecond(){
  const date = getISTDate();
  const full = computeFullPeriodFromIST(date);
  if (full !== lastFullPeriod){
    lastFullPeriod = full;
    showLoaderThenResult(full);
  }
}

(function init(){
  const date = getISTDate();
  const full = computeFullPeriodFromIST(date);
  lastFullPeriod = full;
  periodEl.textContent = full.slice(-3);
  resultArea.innerHTML = `<div class="loader"></div>`;
  setTimeout(() => {
    const isBig = Math.random() < 0.5;
    const text = isBig ? "BIG" : "SMALL";
    resultArea.innerHTML =
      `<div class="big-text ${isBig ? 'big-mode' : 'small-mode'} zoomIn">${text}</div>`;
  }, 3000);
  setInterval(updateEverySecond, 1000);
})();
</script>
</body>
</html>
